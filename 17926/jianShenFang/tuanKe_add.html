<!DOCTYPE html>
<html>

	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<!-- Bootstrap core CSS -->
		<link href="../public/bootstrap.min.css" title="" rel="stylesheet" />
		<link rel="stylesheet" href="../css/plugins/toastr/toastr.min.css" />
		<link href="../font-awesome/css/font-awesome.min.css" rel="stylesheet">
		<link href="../public/animate.css" rel="stylesheet">
		<link rel="stylesheet" href="../public/inspinia.css" />
		<link href="../js/plugins/umeditor/themes/default/_css/umeditor.css" rel="stylesheet" />
		<link rel="stylesheet" href="../css/new_page.css" />
		
		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
		    <script src="../public/html5shiv.min.js"></script>
		    <script src="../public/respond.min.js"></script>
		<![endif]-->
		<title>添加团课种类</title>
		<style>
			.form-group {
				margin-bottom: 10px;
			}
			.form-control{
				margin: 0;
				width: 90%;
				display: inline-block;
			}
			.right_box {
				padding: 5px 0;
			}
			
			#quXiao,
			#queDing {
				float: right;
				margin-right: 13px;
			}
			.ibox-content .control-label{
				width: 13%;
				
			}
			.form_div{
				width: 80%;
				display: inline-block;
			}
		</style>
	</head>

	<body>
		<div id="wrapper" class="container">
			<!--标编辑-->
			<div id="biaobj" class=" wrapper wrapper-content animated fadeInRight">
				<h3>添加团课种类</h3>
				<div class="right_box" id="right_box">
					<form action="" class="form-horizontal">
						<div class="form-group">
							<label style="float:left;margin-left: 15px;" for="" class="control-label">名称：</label>
							<label style="float:left;margin-left: 15px;" for="" class="control-label">2</label>
							<button id="queDing" type="button" class="btn btn-success"> 确定</button>
							<button id="quXiao" style="margin-right:10px;" type="button" class="btn btn-success"> 取消</button>
						</div>
					</form>
					<!--表格部分-->
					<div class="ibox-content">
							<form action="" class="form-horizontal">
								<div style="width: 60%;overflow: hidden;float: left;">
									<div class="form-group" style="margin-left: 0;">
					                    <label class="control-label">团课名称：</label>
					                    <div class="form_div" style="padding-left: 0;">
					                        <input class="form-control" type="text" data-val="true" placeholder="团课名称" name="Title" value="">
					                        <span style="margin-left: 10px;">必填<b style="color:red;">*</b></span>
					                    </div>
					                </div>
					                <div class="form-group" style="margin-left: 0;">
					                    <label class="control-label">时长（分钟）：</label>
					                    <div class="form_div" style="padding-left: 0;">
					                        <input class="form-control" type="text" data-val="true" placeholder="课程时长（分钟数）" name="Title" value="">
					                        <span style="margin-left: 10px;">必填<b style="color:red;">*</b></span>
					                    </div>
					                </div>
					                <div class="form-group" style="margin-left: 0;">
					                    <label class="control-label">单节课可约人数：</label>
					                    <div class="form_div" style="padding-left: 0;">
					                        <input class="form-control" type="text" data-val="true" placeholder="最多可预约人数" value="">
					                        <span style="margin-left: 10px;">必填<b style="color:red;">*</b></span>
					                    </div>
					                </div>
					                <div class="form-group" style="margin-left: 0;">
					                    <label class="control-label">最少上课人数：</label>
					                    <div class="form_div" style="padding-left: 0;">
					                        <input class="form-control" type="text" data-val="true" placeholder="最少上课人数（当预约人数小于最少上课人数时系统会提醒教练）" value="">
					                        <span style="margin-left: 10px;">必填<b style="color:red;">*</b></span>
					                    </div>
					                </div>
					                <div class="form-group" style="margin-left: 0;">
					                    <label class="control-label">默认课程计划：</label>
					                    <div class="form_div" style="padding-left: 0;">
					                        <select class="select2_demo_1 form-control">
												<option value="2">不使用课程计划</option>
												<option value="3">瑜伽</option>
											</select>
					                    </div>
					                </div>
					                <div class="form-group" style="margin-left: 0;">
					                    <label class="control-label" style="float: left;">课程详情：</label>
					                    <div class="col-lg-10 col-md-10 col-sm-10" style="padding: 0;">
					                        <script type="text/plain" id="myEditor" style="width:90%;height:300px;">
	                                        	<p>您好！！！</p>
	                                        </script>
	                                        <input type="hidden" id="Content" name="Content" />
					                    </div>
					                </div>
				                </div>
				                <div class="touXiang" style="width: 40%;float: right;">
				                	<div class="col-sm-9 big-photo">
					                	<div id="preview">
					                        <img id="imghead" border="0" src="../img/touXiang.png" width="120" height="120" onclick="$('#previewImg').click();">
					                		<span style="display: block;width: 120px;text-align: center;margin-top: 10px;">支持JPG,PNG格式<br>大小不能超过1M</span>
					                	</div>         
					                    <input type="file" onchange="previewImage(this)" style="display: none;" id="previewImg">
					                </div>
				                </div>
							</form>
						
					</div>
				</div>
			</div>
		</div>
		<script src="../public/jquery-1.11.3.js"></script>
		<script src="../public/bootstrap.min.js" type="text/javascript"></script>
		<script src="../js/plugins/lhgdialog/lhgdialog.js"></script>
		<!-- 弹出警示框 -->
		<script src="../js/plugins/toastr/toastr.min.js"></script>
		<!-- 弹出确认框 -->
		<script src="../public/artDialog4.1.7/artDialog.js?skin=blue"></script>
		<script src="../public/artDialog4.1.7/plugins/iframeTools.js"></script>
		<!-- 文本编辑器 -->
		<script src="../js/plugins/umeditor/umeditor.config.js"></script>
	    <script src="../js/plugins/umeditor/umeditor.min.js"></script>
	    <script src="../js/plugins/umeditor/lang/zh-cn/zh-cn.js"></script>
	    <script type="text/javascript">
	    	$(function(){
	    		var ue = UM.getEditor('myEditor', {
				    toolbars: [
				        ['fullscreen', 'source', 'undo', 'redo', 'bold']
				    ],
				    autoHeightEnabled: true,
				    autoFloatEnabled: true
				});
	    	})
	    	//图片上传预览    IE是用了滤镜。
	        function previewImage(file)
	        {
	          var MAXWIDTH  = 120; 
	          var MAXHEIGHT = 120;
	          var div = document.getElementById('preview');
	          if (file.files && file.files[0])
	          {
	              div.innerHTML ='<img id=imghead onclick=$("#previewImg").click()>';
	              var img = document.getElementById('imghead');
	              img.onload = function(){
	                var rect = clacImgZoomParam(MAXWIDTH, MAXHEIGHT, img.offsetWidth, img.offsetHeight);
	                img.width  =  rect.width;
	                img.height =  rect.height;
	                img.style.marginTop = rect.top+'px';
	              }
	              var reader = new FileReader();
	              reader.onload = function(evt){img.src = evt.target.result;}
	              reader.readAsDataURL(file.files[0]);
	          }
	          else //兼容IE
	          {
	            var sFilter='filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src="';
	            file.select();
	            var src = document.selection.createRange().text;
	            div.innerHTML = '<img id=imghead>';
	            var img = document.getElementById('imghead');
	            img.filters.item('DXImageTransform.Microsoft.AlphaImageLoader').src = src;
	            var rect = clacImgZoomParam(MAXWIDTH, MAXHEIGHT, img.offsetWidth, img.offsetHeight);
	            status =('rect:'+rect.top+','+rect.left+','+rect.width+','+rect.height);
	            div.innerHTML = "<div id=divhead style='width:"+rect.width+"px;height:"+rect.height+"px;margin-top:"+rect.top+"px;"+sFilter+src+"\"'></div>";
	          }
	        }
	        function clacImgZoomParam( maxWidth, maxHeight, width, height ){
	            var param = {top:0, left:0, width:width, height:height};
	            if( width>maxWidth || height>maxHeight ){
	                rateWidth = width / maxWidth;
	                rateHeight = height / maxHeight;
	                
	                if( rateWidth > rateHeight ){
	                    param.width =  maxWidth;
	                    param.height = Math.round(height / rateWidth);
	                }else{
	                    param.width = Math.round(width / rateHeight);
	                    param.height = maxHeight;
	                }
	            }
	            param.left = Math.round((maxWidth - param.width) / 2);
	            param.top = Math.round((maxHeight - param.height) / 2);
	            return param;
	        }
	    </script>
	</body>

</html>