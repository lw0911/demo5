<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
   		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>个人中心-登录</title>
        <link rel="stylesheet" type="text/css" href="css/common.css"/>
	    <link rel="stylesheet" type="text/css" href="css/member.css"/>
	</head>
	<body>
		<div class="login-div">
			<div class="title">登 录</div>
			<div class="tab-div">
				<ul>
					<a href="###"><li class="normal active">普通登录</li></a>
					<a href="###"><li class="telnumber">手机号登录</li></a>
				</ul>
			</div>
			<div class="login-form normal-div">
				<form action="" method="post">
					<div class="formDiv">
						<span class="fl">手机号码：</span>
						<div class="inputdiv">
							<input type="text" name="" value="" id="tel" maxlength="11"/>
							<span style="display: none;">手机号格式错误</span>
						</div>
						<div class="imgDiv"></div>
					</div>
					<div class="formDiv">
						<span class="fl">图形验证码：</span>
						<div class="inputdiv imgYz">
							<input type="text" name="yzm" value="" class="yanzhengma" id="yzm"/>
							<img src="img/member/yanzhengma.png"/>
							<span style="display: none;">验证码错误</span>
						</div>
						<div class="imgDiv"></div>
					</div>
					<div class="formDiv">
						<span class="fl">密&nbsp;&nbsp;&nbsp;&nbsp;码：</span>
						<div class="inputdiv">
							<input type="text" name="pwd" value="" id="pwd"/>
							<span style="display: none;">密码错误</span>
						</div>
						<div class="imgDiv"></div>
					</div>
					<div class="forget-register">
						<a href="###" class="forget">忘记密码？</a>
						<a href="###" class="register">立即注册</a>
					</div>
					<input type="submit" value="提 交" class="subBtn"/>
				</form>
			</div>
			<div class="login-form telnumber-div" style="display: none;">
				<form action="" method="post">
					<div class="formDiv">
						<span class="fl">手机号码：</span>
						<div class="inputdiv">
							<input type="text" name="" value="" id="tel" maxlength="11"/>
							<span style="display: none;">手机号格式错误</span>
						</div>
						<div class="imgDiv"></div>
					</div>
					<div class="formDiv">
						<span class="fl">图形验证码：</span>
						<div class="inputdiv imgYz">
							<input type="text" name="" value="" class="yanzhengma" id="yzm"/>
							<img src="img/member/yanzhengma.png"/>
							<span style="display: none;">验证码错误</span>
						</div>
						<div class="imgDiv"></div>
					</div>
					<div class="formDiv">
						<span class="fl">手机验证码：</span>
						<div class="inputdiv imgYz">
							<input type="text" name="" value="" class="yanzhengma" id="telyzm"/>
							<button type="button" class="send">发送验证码</button>
							<span style="display: none;">验证码错误</span>
						</div>
						<div class="imgDiv"></div>
					</div>
					<div class="forget-register">
						<a href="###" class="forget">忘记密码？</a>
						<a href="###" class="register">立即注册</a>
					</div>
					<input type="submit" value="提 交" class="subBtn"/>
				</form>
			</div>
			<div class="other-login">
				<div class="">快捷登录</div>
				<div class="con">
					<a href="###"><img src="img/member/weibo.png"/></a>
					<a href="###"><img src="img/member/qq.png"/></a>
					<a href="###"><img src="img/member/wechat.png"/></a>
				</div>
			</div>
		</div>
	</body>
	<script src="js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/layer/layer.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		$(".tab-div li").click(function(){
			var cname = $(this).attr("class");
			$(".tab-div li").removeClass("active");
			$(this).addClass("active");
			$(".login-form").hide();
			$(".login-form."+cname+"-div").show();
		})
		//登录注册
		$("a.register").click(function(){

			var index = layer.getFrameIndex(window.name); //先得到当前iframe层的索引
			layer.close(index);
			
			layer.open({
			  	type: 2,
			  	title:false,
			    closeBtn:false,
			    shadeClose:true,
				shade: 0.6,
				skin: 'layui-layer-rim', //样式类名
			 	area: ['620px', '559px'], //宽高
			  	content: 'register.html'
			});
		})
		$("form :input").blur(function(){
			 var $parent = $(this).parent();
			//验证手机号
			if($(this).is("#tel")){
				  if($.trim(this.value) == "" || $.trim(this.value).length != 11|| ($.trim(this.value) != "" && !/^1\d{10}$/.test($.trim(this.value)))){
				  	$(this).next().show();
				  	$parent.next("div.imgDiv").find("img").remove();
					$parent.next("div.imgDiv").append("<img src='img/member/cuo.png'/>");
				  }else{
				  	$(this).next().hide();
				  	$parent.next("div.imgDiv").find("img").remove();
					$parent.next("div.imgDiv").append("<img src='img/member/dui.png'/>");
				  }
			}
			//图片验证码
			if($(this).is("#yzm")){
				  if($.trim(this.value) == ""){
				  	$(this).next().next("span").show();
				  	$parent.next("div.imgDiv").find("img").remove();
					$parent.next("div.imgDiv").append("<img src='img/member/cuo.png'/>");
				  }else{
				  	$(this).next().next("span").hide();
				  	$parent.next("div.imgDiv").find("img").remove();
					$parent.next("div.imgDiv").append("<img src='img/member/dui.png'/>");
				  }
			}
			//手机验证码
			if($(this).is("#telyzm")){
				  if($.trim(this.value) == ""){
				  	$(this).next().next("span").show();
				  	$parent.next("div.imgDiv").find("img").remove();
					$parent.next("div.imgDiv").append("<img src='img/member/cuo.png'/>");
				  }else{
				  	$(this).next().next("span").hide();
				  	$parent.next("div.imgDiv").find("img").remove();
					$parent.next("div.imgDiv").append("<img src='img/member/dui.png'/>");
				  }
			}
			//验证密码
			if($(this).is("#pwd")){
				  if($.trim(this.value) == ""){
				  	$(this).next().show();
				  	$parent.next("div.imgDiv").find("img").remove();
					$parent.next("div.imgDiv").append("<img src='img/member/cuo.png'/>");
				  }else{
				  	$(this).next().hide();
				  	$parent.next("div.imgDiv").find("img").remove();
					$parent.next("div.imgDiv").append("<img src='img/member/dui.png'/>");
				  }
			}
		});
	</script>
</html>
